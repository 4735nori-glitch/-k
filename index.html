<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>ç‰›ç®¡ç†ãƒ­ã‚°</title>
    <style>
        body { background-color: #2c3e50; color: white; font-family: sans-serif; text-align: center; padding: 20px; }
        .container { background: #34495e; padding: 20px; border-radius: 15px; display: inline-block; width: 350px; }
        input { width: 80%; padding: 10px; margin: 10px 0; border-radius: 5px; border: none; }
        button { background: #e67e22; color: white; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer; font-weight: bold; }
        #log-area { margin-top: 30px; text-align: left; background: #ecf0f1; color: #333; padding: 10px; border-radius: 10px; }
        .log-item { border-bottom: 1px solid #ccc; padding: 5px 0; font-size: 14px; }
    </style>
</head>
<body>


    
    <h1>ğŸ„ ç‰›ã®æˆé•·è¨˜éŒ² (ä¿å­˜ç‰ˆ)</h1>
    
    <div class="container">
        <input type="text" id="cowName" placeholder="ç‰›ã®åå‰ (ä¾‹: ã¯ãªã“)">
        <input type="number" id="weight" placeholder="ä»Šã®ä½“é‡ (kg)">
        <button id="save-btn">è¨˜éŒ²ã—ã¦ä¿å­˜ï¼</button>
        
        <div id="log-area">
            <strong>éå»ã®è¨˜éŒ²ï¼š</strong>
            <div id="log-list"></div>
        </div>
        <br>
        <button id="clear-btn" style="background:#c0392b; font-size:12px;">è¨˜éŒ²ã‚’å…¨éƒ¨æ¶ˆã™</button>
    </div>

    <script>
        const saveBtn = document.getElementById('save-btn');
        const clearBtn = document.getElementById('clear-btn');
        const list = document.getElementById('log-list');

        // 1. ãƒšãƒ¼ã‚¸ã‚’é–‹ã„ãŸæ™‚ã€ä¿å­˜ã•ã‚Œã¦ã„ã‚‹ãƒ‡ãƒ¼ã‚¿ã‚’å‘¼ã³å‡ºã™
        window.onload = () => {
            const savedData = JSON.parse(localStorage.getItem('cowLogs')) || [];
            savedData.forEach(item => addToList(item));
        };

        // 2. ä¿å­˜ãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ãŸæ™‚ã®å‡¦ç†
        saveBtn.addEventListener('click', () => {
            const name = document.getElementById('cowName').value;
            const weight = document.getElementById('weight').value;
            if(!name || !weight) return alert("åå‰ã¨ä½“é‡ã‚’å…¥ã‚Œã¦ãã‚Œï¼");

            const date = new Date().toLocaleDateString();
            const logEntry = `${date} - ${name}: ${weight}kg`;

            // ãƒ‡ãƒ¼ã‚¿ã‚’é…åˆ—ã«ä¿å­˜
            const savedData = JSON.parse(localStorage.getItem('cowLogs')) || [];
            savedData.push(logEntry);
            localStorage.setItem('cowLogs', JSON.stringify(savedData));

            addToList(logEntry);
        });

        // ãƒªã‚¹ãƒˆã«è¡¨ç¤ºã™ã‚‹é–¢æ•°
        function addToList(text) {
            const div = document.createElement('div');
            div.className = 'log-item';
            div.innerText = text;
            list.prepend(div); // æ–°ã—ã„ã®ã‚’ä¸Šã«
        }

        // å…¨éƒ¨æ¶ˆã™å‡¦ç†
        clearBtn.addEventListener('click', () => {
            if(confirm("æœ¬å½“ã«æ¶ˆã™ã‹ï¼Ÿ")) {
                localStorage.clear();
                location.reload();
            }
        });
    </script>
</body>
</html>
